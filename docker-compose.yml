services:
    frontend:
        build:
            context: ./frontend
            dockerfile: Dockerfile
        ports:
            - '3000:3000'
        volumes:
            - ./frontend:/app
            - /app/node_modules
            - /app/.next
        environment:
            - NODE_ENV=development
        command: npm run dev
        restart: unless-stopped

    backend:
        build:
            context: ./backend
            dockerfile: Dockerfile
        ports:
            - '4000:4000'
        volumes:
            - ./backend:/app
            - /app/node_modules
        environment:
            - PORT=4000
        command: npm run dev
        restart: unless-stopped
